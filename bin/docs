#!/usr/bin/env ruby
# frozen_string_literal: true

require 'fileutils'

puts 'ðŸ”§ Generating documentation...'
system('bundle exec yard doc')

puts "\nðŸ“Š Documentation coverage:"
system('bundle exec yard stats --list-undoc')

puts "\nâœ… Documentation generated successfully!"
puts 'ðŸ“‚ Open doc/index.html in your browser to view the documentation'

# Check if we're in a git repository and suggest deployment
if system('git rev-parse --git-dir > /dev/null 2>&1')
  puts "\nðŸ’¡ To deploy to GitHub Pages:"
  puts "   git add . && git commit -m 'Update documentation' && git push"
  puts '   Or trigger manually via GitHub Actions workflow dispatch'
end
